<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æµ·æ´‹ç®¡ç†ç³»ç»Ÿ - ç®¡ç†å‘˜ç®¡ç†</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="css/style.css" />
    <style>
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .d-flex.flex-column.vh-100 {
            height: 100vh;
        }

        main.flex-grow-1 {
            overflow-y: auto;
        }

        @media (min-width: 768px) {
            .offcanvas-start.sidebar {
                position: static;
                transform: none;
                visibility: visible !important;
                width: 445px;
                height: 100vh;
                border-right: 1px solid rgba(255, 255, 255, 0.1);
            }
        }
    </style>
</head>

<body>
    <!-- ç§»åŠ¨ç«¯é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar navbar-dark bg-dark d-md-none">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#sidebarOffcanvas" aria-controls="sidebarOffcanvas">
                <span class="navbar-toggler-icon"></span>
            </button>
            <span class="navbar-brand mb-0 h1">æµ·æ´‹ç®¡ç†ç³»ç»Ÿ</span>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="d-flex">
            <!-- å“åº”å¼ä¾§è¾¹æ  -->
            <div class="offcanvas offcanvas-start bg-dark text-white sidebar" tabindex="-1" id="sidebarOffcanvas">
                <div class="offcanvas-header d-md-none">
                    <h5 class="offcanvas-title">èœå•å¯¼èˆª</h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"></button>
                </div>
                <div class="offcanvas-body p-3">
                    <div class="text-center mb-4">
                        <h5 class="text-white">æµ·æ´‹ç®¡ç†ç³»ç»Ÿ</h5>
                        <p class="text-white-50" id="userInfo">
                            æ¬¢è¿ï¼Œ<span id="currentUser">{{ username }}</span>ï¼ˆç®¡ç†å‘˜ï¼‰
                        </p>
                    </div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link text-white" href="{{ url_for('main.user_dashboard') }}">
                                <i class="bi bi-speedometer2 me-2"></i>ä¸»è¦ä¿¡æ¯
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="{{ url_for('main.underwater') }}">
                                <i class="bi bi-water me-2"></i>æ°´ä¸‹ç³»ç»Ÿ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="{{ url_for('main.intelligence') }}">
                                <i class="bi bi-cpu me-2"></i>æ™ºèƒ½ä¸­å¿ƒ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="{{ url_for('main.admin_page') }}">
                                <i class="bi bi-gear me-2"></i>ç®¡ç†å‘˜ç®¡ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="{{ url_for('main.datacenter') }}">
                                <i class="bi bi-database me-2"></i>æ•°æ®ä¸­å¿ƒ
                            </a>
                        </li>
                        <li class="nav-item mt-5">
                            <a class="nav-link text-white" href="{{ url_for('auth.logout') }}">
                                <i class="bi bi-box-arrow-right me-2"></i>é€€å‡ºç™»å½•
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- ä¸»å†…å®¹åŒºåŸŸ -->
            <main class="flex-grow-1 px-3 mt-3">
                <div class="d-flex justify-content-between align-items-center pt-3 pb-2 mb-4 border-bottom">
                    <h1 class="h2">ç®¡ç†å‘˜æ§åˆ¶é¢æ¿</h1>
                    <span class="text-muted">ä½ å¥½ï¼Œç®¡ç†å‘˜ {{ username }} ğŸ‘‘</span>
                </div>

                <div class="row">
                    {% set cards = [
                        {'color': 'primary', 'icon': 'people-fill', 'title': 'ç”¨æˆ·ç®¡ç†', 'text': 'æŸ¥çœ‹ã€ç¼–è¾‘æˆ–åˆ é™¤ç”¨æˆ·è´¦æˆ·ã€‚', 'btn': 'ç®¡ç†ç”¨æˆ·', 'link': url_for('main.manage_users_page')},
                        {'color': 'warning', 'icon': 'file-earmark-text', 'title': 'ç³»ç»Ÿæ—¥å¿—', 'text': 'æŸ¥çœ‹ç³»ç»Ÿæ´»åŠ¨æ—¥å¿—ã€æ“ä½œå†å²å’Œå®‰å…¨è®°å½•ã€‚', 'btn': 'æŸ¥çœ‹æ—¥å¿—'},
                        {'color': 'danger', 'icon': 'shield-lock', 'title': 'æƒé™å®¡æŸ¥', 'text': 'åˆ†é…è§’è‰²ã€ç®¡ç†æ¨¡å—æƒé™ä¸è®¿é—®æ§åˆ¶ã€‚', 'btn': 'è®¾ç½®æƒé™'},
                        {'color': 'info', 'icon': 'sliders', 'title': 'ç³»ç»Ÿè®¾ç½®', 'text': 'é…ç½®å¹³å°å‚æ•°ï¼Œç³»ç»Ÿåˆå§‹åŒ–æˆ–å¤‡ä»½ã€‚', 'btn': 'ç³»ç»Ÿé…ç½®'},
                        {'color': 'secondary', 'icon': 'upload', 'title': 'æ•°æ®å¯¼å…¥', 'text': 'ä¸Šä¼ å¹¶å¯¼å…¥ä¼ æ„Ÿå™¨æˆ–ç›‘æ§è®¾å¤‡å†å²æ•°æ®ã€‚', 'btn': 'å¯¼å…¥æ•°æ®'},
                        {'color': 'dark', 'icon': 'hdd-fill', 'title': 'ç³»ç»Ÿå¤‡ä»½', 'text': 'ä¸€é”®å¤‡ä»½ç³»ç»Ÿé…ç½®ã€æ•°æ®åº“å’Œæ—¥å¿—ä¿¡æ¯ã€‚', 'btn': 'ç«‹å³å¤‡ä»½'},
                        {'color': 'success', 'icon': 'megaphone', 'title': 'é€šçŸ¥ç®¡ç†', 'text': 'å‘å¸ƒç³»ç»Ÿé€šçŸ¥ã€è­¦æŠ¥æ¨é€å’Œç”¨æˆ·å…¬å‘Šã€‚', 'btn': 'å‘é€é€šçŸ¥'},
                        {'color': 'warning text-dark', 'icon': 'plug', 'title': 'æ¥å£ç®¡ç†', 'text': 'ç®¡ç†ç¬¬ä¸‰æ–¹ç³»ç»Ÿå¯¹æ¥ä¸APIè®¿é—®æƒé™ã€‚', 'btn': 'æ¥å£é…ç½®'}
                    ] %}

                    {% for card in cards %}
                    <div class="col-md-6">
                        <div class="card mb-4">
                            <div class="card-header bg-{{ card.color }} text-white">
                                <i class="bi bi-{{ card.icon }} me-2"></i>{{ card.title }}
                            </div>
                            <div class="card-body">
                                <p>{{ card.text }}</p>
                                <a href="{{ card.link | default('#') }}" class="btn btn-outline-{{ card.color.split(' ')[0] }} btn-sm">{{ card.btn }}</a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
